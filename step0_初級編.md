# Step0. 初級編

2023-11-17 ~ 11-20

## 1. データの集計

1-1. データをとってみよう

【データのとり方の極意】

- 1つのセル（表の中の1つ1つのはこのこと）には1つのデータを入れる
- 足りないデータ（欠損値－けっそんち）や、おかしなデータ（外れ値－はずれち）がないか確認
- 全角文字と半角文字とごちゃまぜにしない
- データの単位は揃える
- 単位はセルの中ではなく、列名のセル（列の見出し部分）に書く

- 質的変数
- 量的変数
  - 離散変数
  - 連続変数

1-2. データからグラフを作ってみよう１

質的変数の集計

【集計表の作り方の極意】

- 度数には単位を書かず、値だけを記入する
- 度数の大小に従って集計表の中身を並べかえると見やすくなる場合がある
- カテゴリ名に従って集計表の中身を並べかえると見やすくなる場合がある

集計表を使うと、棒グラフや円グラフ、帯グラフを書くことができる。  データをグラフにすると、データの様子を一目で理解することができるようになる。

■棒グラフ  
■円グラフ  
■帯グラフ  

1-3. データからグラフを作ってみよう２

量的変数の集計

量的変数の集計には「度数分布表」というものがよく使われる

- 階級
- 階級値
- 度数
- 相対度数
- 累積相対度数

【度数分布表の作り方の極意】

- 階級の区切りは分かりやすい値を使う
- 階級の区切りは等間隔にする
- 階級の区切りの大きさや数には決まりがないので、データの分布をよく反映するものを選ぶ

度数分布表の読み方

■ヒストグラム

## 2. さまざまなグラフ

2-1. クロス集計表を作ってみよう

2-2. モザイク図を描いてみよう

2-3. 積み上げ棒グラフを読み取ってみよう

## 3. 時系列データ

3-1. 時系列データを見てみよう

【時系列データのとり方の極意】

- 時系列にそって並べる
- ある時間のデータが重複しないようにする
- 時間の間隔は一定でなくても問題ないが、データの特性が適切に把握できるような間隔にする

3-2. 時系列データをグラフにしてみよう

時系列データをグラフにする場合は、折れ線グラフがよく使われる  
折れ線グラフは、棒グラフの棒の頂点を線で結んだグラフで、値の連続的な変化を見るのに適している

折れ線グラフの傾きは変化の大小を示している  
傾きが大きいほど変化の程度が大きく、傾きが小さいほど変化の程度が小さいことを意味する

右上がりの場合には正の変化を、右下がりの場合は負の変化をしていることを意味する

3-3. 時系列データの変化を見てみよう

- 差を使う方法
  ある時点の値を基準として、その前の時点との差を引き算によって求める方法  
  (ある時点の値) ー (前時点の値) で求める  
  差を求めると、前の時点と比較して、ある時点の値がどの程度増加/減少したかが分かる

- 比を使う方法
  ある時点の値を基準として、その前の時点の値に対する比を割り算によって求める方法  
  (ある時点の値) ÷ (前時点の値) で求める  
  比を求めると、前の時点と比較してある時点の値が何倍増加したかが分かる

- 変化率を使う方法
  前時点での値に対する、ある時点と前時点との値の差の割合を求める方法  
  (ある時点の値 ー 前時点の値) ÷ (前時点の値) で求める  
  変化率を求めると、前の時点に対するある時点の値の増減の度合いをしることができる

- 指数を使う方法
  ある基準時点での値に対する、それぞれの時点の値の比率を求める方法  
  (それぞれの時点の値) ÷ (基準時点の値) で求める  
  一般に、100をかけた値が使われる  
  指数を求めると、基準時点の値に対するそれぞれの時点の値の増減の推移を知ることができる

## 4. 代表値と箱ひげ図

4-1. 平均、中央値、最頻値を求めてみよう

- 平均
  平均とは、すべてのデータを足してデータの数で割ったもの  

- 中央値
  中央値とは、データを小さい順に並べたデータのちょうど中央にあるデータのこと  

- 最頻値
  最頻値は、モードともよばれ、最も頻度が高い値(一番多く出現している値)を指す

4-2. 四分位数を見てみよう

四分位数とは、データを小さい順に並び替えたときに、データの数で4等分した時の区切り値のこと  
四等分すると3つの区切り値の値が得られ、小さい方から25％タイル(第一四分位数)、50％タイル(中央値)、75％タイル(第三四分位数)と呼ぶ  
75％タイルから25％タイルを引いた値を四分位範囲と呼ぶ  

■四分位数の求め方(データの数が奇数個の場合)  

1. 中央値を求める
2. 中央値でデータを2つに分ける(中央値は除く)
3. 2つに分けたデータのうち小さい値のグループを使って中央値を求める
4. 2つに分けたでーたのうち大きい値のグループを使って中央値を求める

■四分位数の求め方(データの数が偶数個の場合)  

1. 中央値を求める
2. 半分に分ける
3. 2つに分けたデータのうち小さい値のグループを使って中央値を求める
4. 2つに分けたでーたのうち大きい値のグループを使って中央値を求める

4-3. 箱ひげ図を描いてみよう

箱ひげ図とは、データの分布を「箱」と「ひげ」で表したグラフのことで、データの分布の様子をおおざっぱに把握することができる  

■箱を描く  
  箱を描くためには、第一四分位数、中央値、第三四分位数を使う

■ひげを描く  
  ひげの長さは、箱の高さ(四分位範囲)の1.5倍以下の範囲にあるデータの中で、最大値までと最小値までとなる

■外れ値を描く  
  最後にひげの範囲から外れたデータを「〇」もしくは「✕」で示す

## 5. データのばらつき

5-1. データのばらつきを計算してみよう

■分散の求め方  
1. 各データと平均値の差を求める
2. 1.で求めた値を2乗する
3. 2.で求めた値をすべて足す
4. 3.で求めた数をサンプルの数で割る

■標準偏差の求め方  
1. 分散を求める
2. 1.で求めた値のルート(正の平方根)をとる

分散も標準偏差もどちらも必ず0以上の値になる  
すべてのデータが平均値である場合(すべてのデータが同じである場合)には、分散も標準偏差も0になる

5-2. 分散と標準偏差の性質を詳しく見てみよう

■データに一律足し算をすると？  
  元のデータにある値を一律足した場合、平均値はある値をたしたものになる  
  一方、分散と標準偏差は変化しない

■データに一律掛け算をすると？
  元のデータにある値を一律掛けた場合、平均値と標準偏差はある値をかけたものになる  
  分散はある値の2乗をかけたものになる  

5-3. 変動係数を求めてみよう

変動係数 = 標準偏差 ÷ 平均値

.mean() ...平均を求める
.var() ...分散を求める
.std() ...標準偏差を求める

from scipy.stats import variation
.variation() ...変動係数を求める

## 6. データの標準化

6-1. レーダーチャートを作ってみよう

6-2. データを標準化してみよう

標準化は次の式で行う  
$\frac{x-\overline{x}}{s}$

6-3. 偏差値を求めてみよう

偏差値は次の式で求められる  
$\frac{x-\overline{x}}{s}\times 10 + 50$

偏差値の特徴  
- 平均点と同じ点数だった場合、偏差値は50
- 異なる科目や競技で同じ点数だった場合でも、偏差値は等しくなるとは限らない
- 偏差値は100以上の値やマイナスの値をとる場合がある
- 標準偏差が小さく、平均値からかけ離れた点数を取った場合には偏差値は非常に大きな値や小さな値をとる  

## 7. データの相関

7-1. バブルチャートを作ってみよう

3種類のデータを含んでいる表は「バブルチャート」を使って可視化するのがおすすめ  
ｘ軸で1つ目のデータを、ｙ軸で2つ目のデータを、そして点(バブル)の大きさで3つ目のデータを表す

7-2. データの相関を見てみよう

共分散  
$x$と$y$の共分散$s_{xy}$は、次の式で求められる  
$s_{xy} = \frac{1}{n}\sum_{i=1}^n(x_i-\overline{x})(y_i-\overline{y})$

相関係数  
$x$と$y$の相関係数$r$は、$x$と$y$の共分散$s_{xy}$を$x$と$y$の標準偏差$s_x,s_y$の積で割った数である  
$r = \frac{s_{xy}}{s_x s_y}$  
また、相関係数$r$は、$-1 \leqq r \leqq 1$  
$r$が1に近いとき強い正の相関があり、-1に近いとき強い負の相関がある  
$r$が0に近いときはほとんど相関がない

7-3. データの相関に注意しよう

相関係数を扱うときに注意する3つのポイント  
- 外れ値がある場合
  相関係数を求めるときにはまず散布図を作り、外れ値がないか等データの特徴を確認する  
- 元データを加工した場合
- 直線関係ではない相関がある場合
  相関係数は2つのデータによる直線的な相関関係の強さを表すもの  
  2次関数的な関係などのように線形ではない場合には相関関係の強弱を正しく表せない  
  いきなり相関係数を計算しないで、まずはデータをプロットした散布図を確認する  

## 8. 確率の計算

8-1. 確率を求めてみよう

確率とは、ものごとの起こりやすさを定量的に表す指標  
また、このものごとのことを「事象」という  

いくつかの事象の起こりやすさがすべて等しいとき、「同様に確からしい」という  

8-2. いろいろな確率を求めよう

お互いの結果が影響しあうことがないとき、2つの事象は「独立である」という  
2つの事象が独立である場合、2つの事象が同時に起こる確率はそろぞれの事象の確率の積で計算することができる  

8-3. 条件付き確率を求めてみよう

$P(B|A) = \frac{P(A\cap B)}{P(A)}$  

## 研究計画

9-1. 研究の流れを確認しよう

研究の種類  
- 観察研究  
  研究対象に介入せず、研究対象の観察によってデータを集めて解析を行う研究  
- 実験研究  
  研究対象に対してなんらかの介入を行い、その効果を評価する研究  

観察研究の流れ  
1. 課題を設定する
2. 研究計画を立てる
3. データを集める
4. データを分析する
5. 結果を考察する
  結果から考えられることと結果からは分からなかったことを明確に切り分け、分からなかったことについては、その理由や問題点などについても考える  

9-2. 研究計画を立ててみよう

全数調査と標本調査

- 単純無作為抽出法
  母集団に含まれている個体に対して通し番号を振り、それらの番号の中からランダムに番号を選ぶことで単純無作為抽出を行うことができる

9-3. 研究計画を仕上げよう

## 10. データの読み方

10-1. データを分析して結果をまとめよう1

10-2. データを分析して結果をまとめよう２

何かの値を予測するためには、回帰分析を行って「予測値」を求める方法がある

10-3. データを分析して結果をまとめよう3

クロス集計表の左側の項目を「表側」といい、上側の項目を「表頭」という  